# AI Dream Interpretation

AI Dream Interpretation is a Flutter mobile app that helps users record or type their dreams and receive AI-generated interpretations. The app also supports text-to-speech / audio-generation so users can listen to the interpretation.

This repository contains the Flutter client for the project and integrates with a backend that performs dream interpretation and generates audio files.

## Live demo / screenshots

Add screenshots or a short GIF in the `assets/` or `docs/` folder and show them here for best results.

## Features

- Type or record a dream and send it to the backend for interpretation.
- Receive natural-language interpretation(s) and follow-up questions.
- Play generated audio (text-to-speech / audio file) for any interpretation.
- Uses GetX for state management and routing.

## Tech stack

- Flutter (Dart)
- GetX (state management)
- audioplayers (audio playback)
- http / Multipart uploads
- A custom backend (not included) that exposes endpoints for dream interpretation and audio generation

## Quick start (client)

1. Prerequisites

   - Flutter SDK (stable) installed
   - Android Studio or VS Code for emulator/device
   - If you test against a local backend from the Android emulator, use `10.0.2.2` to reach your host machine.

2. Clone

   ```bash
   git clone https://github.com/nishan979/ai_dream_interpretation.git
   cd ai_dream_interpretation
   ```

3. Get packages

   ```bash
   flutter pub get
   ```

4. Configure backend (required for interpretation & audio)

   - The app expects a backend `baseUrl` configured in `lib/constants.dart`. For local development you can set `baseUrl` to `http://10.0.2.2:5054` (Android emulator -> host machine).
   - The app uses endpoints such as `/chatbot/dream/` and `/chatbot/audio-generate/` to interact with the server.
   - If you expose your local backend over ngrok, the app handles ngrok audio responses by requesting audio bytes with the cookie `ngrok-skip-browser-warning=true`. Ensure your ngrok URL is returned by the backend in the `audio_url` field.
     **_ Begin autogenerated README replacement _**

# AI Dream Interpretation

A Flutter app that interprets dreams using an AI-backed server and provides audio playback and speech features.

This README is intentionally complete and contains setup, build, troubleshooting, and publishing guidance so you can publish directly to GitHub.

---

## Repository at a glance

- Language: Dart (Flutter)
- Key packages: GetX, flutter_tts, audioplayers, speech_to_text, firebase_core, firebase_auth, google_sign_in, flutter_screenutil, flutter_stripe
- Main folders: `lib/`, `assets/`, `android/`, `ios/`, `web/`, `windows/`, `macos/`, `linux/`

---

## Important automated edits performed (please read)

Before publishing you should be aware that an automated maintenance pass was run across the repository. The pass made the following non-functional/source-only edits:

- Removed all debug `print(...)` and `debugPrint(...)` statements.
- Converted `Color.withOpacity(x)` usages to `Color.withAlpha((x*255).toInt())` per a requested rule.
- Stripped most comments (line `//` and block `/* ... */`) from active source files.

All original files modified by this process were copied into `.comments_backup/` at the repository root. If you need to restore any original file (with comments), you can copy it from that directory.

Example restore command (PowerShell):

```powershell
# Restore a single file from backup
Copy-Item -Path .\.comments_backup\lib\app\modules\auth\controllers\auth_controller.dart -Destination .\lib\app\modules\auth\controllers\auth_controller.dart -Force
```

If you want me to revert specific files automatically or generate a human-facing changelog listing exact diffs, tell me and I'll prepare a PR.

## Screenshots

Below are the screenshots from `assets/ss/` included in the repository. They will render on GitHub when you publish the repo.

<p float="left">
   <img src="assets/ss/Screenshot_1761627142.png" width="320" />
   <img src="assets/ss/Screenshot_1761627146.png" width="320" />
   <img src="assets/ss/Screenshot_1761627153.png" width="320" />
   <img src="assets/ss/Screenshot_1761627157.png" width="320" />
</p>

---

## Screenshots / assets

You mentioned screenshots were added to `assets/ss/`. The project's `pubspec.yaml` already includes `assets/images/` and `assets/icons/` but does not include `assets/ss/` by default.

To ensure the `assets/ss/` folder is packaged, add this entry to the `flutter:` section of your `pubspec.yaml` (example snippet):

```yaml
flutter:
  assets:
    - assets/images/
    - assets/icons/
    - assets/ss/
```

After updating `pubspec.yaml`, run (PowerShell):

```powershell
flutter pub get
```

If you prefer, I can create a PR that updates `pubspec.yaml` for you.

---

## Quick start (development)

Prerequisites

- Flutter SDK (use a stable release compatible with Dart SDK `^3.8.0` — see `pubspec.yaml` environment).
- Platform SDKs for your targets (Android SDK for Android, Xcode for iOS, Visual Studio for Windows, etc.).

Verify your environment:

```powershell
flutter doctor
```

Clone and run

```powershell
git clone <your-repo-url>
cd ai_dream_interpretation
flutter pub get

# Run on the default connected device
flutter run
```

Builds

Android APK (release):

```powershell
flutter build apk --release
```

iOS (release):

```powershell
# On macOS with Xcode configured
flutter build ios --release
```

Web (Chrome):

```powershell
flutter run -d chrome
```

Windows:

```powershell
flutter run -d windows
```

---

## Static analysis and formatting

Run the analyzer and formatter:

```powershell
flutter analyze
flutter format .
```

Notes:

- After comments were removed, `flutter analyze` may report `empty_catches` in a few places since some suppression comments were removed. I can either re-insert small no-op handlers (for example `final _ = e;`) or restore the original comments from `.comments_backup`.
- There are also a few `deprecated_member_use` notices around the `speech_to_text` plugin (it suggests migrating to `SpeechListenOptions`). I can update that code if you want.

---

## Tests

Run tests:

```powershell
flutter test
```

The repo contains a basic `test/widget_test.dart`. Add more unit / widget tests to `test/` as needed.

---

## Security & publishing checklist

- Do NOT commit credentials or private keys. The repo currently contains `android/app/google-services.json` — ensure this file does not contain sensitive values before making the repository public.
- Consider moving production keys to CI secrets (GitHub Actions secrets) and adding any local-only config files to `.gitignore`.

---

## Reverting automated edits (if needed)

To revert _all_ automated edits and restore original files from the backup folder:

```powershell
# Restore entire backup tree into working tree (overwrites current files)
Copy-Item -Path .\.comments_backup\* -Destination .\ -Recurse -Force
```

To restore a single file, use the copy example near the top of this README.

---

## Suggested CI / GitHub Actions

Minimal `flutter analyze` + `flutter test` workflow:

```yaml
name: Flutter CI

on: [push, pull_request]

jobs:
   analyze-and-test:
      runs-on: ubuntu-latest
      steps:
         - uses: actions/checkout@v4
         - uses: subosito/flutter-action@v2
            with:
               flutter-version: 'stable'
         - name: Install dependencies
            run: flutter pub get
         - name: Analyze
            run: flutter analyze
         - name: Run tests
            run: flutter test --reporter=expanded
```

I can add this workflow to `.github/workflows/flutter-ci.yml` in a PR if you'd like.

---

## Troubleshooting common issues

- Missing asset at runtime: confirm path declared in `pubspec.yaml` and run `flutter pub get`.
- Microphone / audio permission issues: confirm runtime permissions are requested (the app uses `permission_handler`).
- Audio served via ngrok: if you get HTML instead of audio, ensure your backend returns a direct audio URL or include the `ngrok-skip-browser-warning=true` cookie when fetching bytes.

---

## Contributing / next steps I can take for you

I can:

- Add `assets/ss/` to `pubspec.yaml` and open a PR.
- Re-insert small non-comment no-ops in empty `catch` blocks to silence `empty_catches` analyzer items.
- Migrate `speech_controller.dart` to use `SpeechListenOptions` instead of deprecated arguments.
- Produce a changelog (file) listing the exact files changed and the diffs the automated pass applied.

Tell me which of the above (if any) you'd like me to do and I will prepare a PR.

---

## License

This repo already includes a `LICENSE` file; that is the canonical license for the project. Keep it in the repo when publishing.

---

If you want me to also open a GitHub-ready PR that (for example) adds `assets/ss/` to `pubspec.yaml` and inserts small no-op `catch` handlers, say so and I'll create the branch and PR for you.

**_ End autogenerated README replacement _**
